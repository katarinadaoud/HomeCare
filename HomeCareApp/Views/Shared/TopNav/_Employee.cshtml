@using Microsoft.AspNetCore.Identity
@using HomeCareApp.Models
@inject SignInManager<User> SignInManager
@inject UserManager<User> UserManager

<nav class="navbar bg-white fixed-top" role="navigation" aria-label="Staff menu">
  <div class="container-fluid topnav">

    <!-- Logo -->
    <a class="navbar-brand d-flex align-items-center gap-2 brand"
       asp-controller="Employee" asp-action="Index" aria-label="Home"
       style="color: var(--brand-primary);">
      <svg class="brand-icon" width="28" height="28" viewBox="0 0 24 24" role="img" aria-hidden="true">
        <path d="M12 4c2-2.5 6-2.7 8.2-.6 2.9 2.5 3.2 7 .6 9.6-2.3 2.5-6.9 6-8.5 7.1-.2.1-.5.1-.7 0-1.6-1.1-6.2-4.6-8.5-7.1-2.6-2.6-2.3-7.1.6-9.6C6 1.3 10 1.5 12 4Z"
              fill="none" stroke="currentColor" stroke-width="1.8"
              stroke-linecap="round" stroke-linejoin="round"
              transform="translate(12 12) scale(1.12) translate(-12 -12)" />
        <path d="M5.2 11.2 12 5.8l6.8 5.4v5.9c0 .5-.4.9-.9.9h-4.2a.6.6 0 0 1-.6-.6v-2.6a2 2 0 0 0-2-2h-1.2a2 2 0 0 0-2 2v2.6a.6.6 0 0 1-.6.6H6.1a.9.9 0 0 1-.9-.9z"
              fill="currentColor" opacity="0.96" />
      </svg>
      <span class="brand-text"><span class="brand-L">L</span>ife<span class="brand-L">L</span>ink</span>
    </a>

    <!-- Navigasjon -->
    <ul class="nav ms-2" role="list">
      <li class="nav-item">
        <a class="nav-link @(ViewBag.ActiveTab=="schedule" ? "active" : "")"
           asp-controller="Employee" asp-action="Index">Schedule</a> <!-- ENDRET -->
      </li>
      <li class="nav-item">
        <a class="nav-link @(ViewBag.ActiveTab=="visits" ? "active" : "")"
           asp-controller="Employee" asp-action="Visits">Todayâ€™s visits</a>
      </li>
      <li class="nav-item">
        <a class="nav-link @(ViewBag.ActiveTab=="patients" ? "active" : "")"
           asp-controller="Employee" asp-action="Table">Patients</a> <!-- ENDRET -->
      </li>

      @* ðŸ‘‡ My profile med ikon *@
      @if (SignInManager.IsSignedIn(User))
      {
          <li class="nav-item d-flex align-items-center">
              <a class="nav-link d-flex align-items-center gap-1"
                 asp-area="Identity" asp-page="/Account/Manage/Index">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18"
                       viewBox="0 0 24 24" fill="none" stroke="currentColor"
                       stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                       class="lucide lucide-user">
                      <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                      <circle cx="12" cy="7" r="4"/>
                  </svg>
                  My profile
              </a>
          </li>
      }
    </ul>

    <!-- HÃ¸yreside (knapper + logout) -->
    <div class="ms-auto d-flex align-items-center gap-3">
      <button class="btn-cta" id="btnOnCall" type="button">Notify on-call</button>

      <button class="icon-btn" id="notifBtn" type="button" aria-label="Notifications">
        <span aria-hidden="true">ðŸ””</span>
        <span class="badge" id="notifBadge"></span>  <!-- no number -->
      </button>

<<<<<<< HEAD
=======
      <span class="toolbar-sep" aria-hidden="true"></span>

      @* ðŸ‘‡ Logout-ikon *@
      @if (SignInManager.IsSignedIn(User))
      {
          <form id="logoutForm" asp-area="Identity" asp-page="/Account/Logout"
                asp-route-returnUrl="@Url.Action("Index", "Home", new { area = "" })">
              <button id="logout" type="submit" class="icon-btn logout-btn" aria-label="Logout">
                  <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none"
                       stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                       class="lucide lucide-log-out">
                      <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" />
                      <polyline points="16 17 21 12 16 7" />
                      <line x1="21" y1="12" x2="9" y2="12" />
                  </svg>
              </button>
          </form>
      }
>>>>>>> 66d62d2640a5d05249960394cec6137c3594177a
    </div>
  </div>
</nav>
